<cu-custom bgColor="bg-gradual-blue" isBack='true'>
  <view slot="content">总表</view>
  <view slot="backText">返回</view>
  <view class="action" slot="right">
    <view class="cu-load load-icon {{loading[0] ?'loading':'over'}}"></view>
  </view>
</cu-custom>

<form>
  <view class="cu-form-group">
    <view class="title">选择周数</view>
    <picker bindchange="onPickerChange" value="{{currentWeekNo-1}}" range="{{weeks}}">
			<view class="picker">
				{{currentWeekNo}}
			</view>
		</picker>
  </view>
</form>

<view class="top bg-cyan.light margin-top-sm">
  <view wx:for="{{['一','二','三','四','五','六','日']}}" wx:key class="top-text">周{{item}}</view>
</view>
<scroll-view scroll-y="true" class="scroll">
  <view style="height:1200rpx;width:730rpx;display:flex;">
    <view class="bg-cyan.light">
      <view wx:for="{{sections}}" wx:key class="left">
        {{item}}
      </view>
    </view>
    <view wx:for="{{sections}}" wx:key>
      <view style="width:750rpx;margin-top:{{(index+1)*100}}rpx;  position: absolute;border-bottom:1rpx solid {{index==sectionThresh?'red':'lightgray'}};">
      </view>
    </view>

    <!--课表-->
    <view wx:for="{{wlist}}" wx:key>
      <view class="flex-item kcb-item" bindtap="showCardView" data-statu="open" data-index="{{index}}" style="margin-left:{{(item.dayWeek-1)*100}}rpx;margin-top:{{(item.no-1)*100+5}}rpx;height:{{item.len*100-5}}rpx;background-color:{{colorArrays[index%8]}}">
        <view class="smalltext" >{{item.caption}}</view>
      </view>
    </view>
  </view>
</scroll-view>
